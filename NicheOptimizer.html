<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Streamer Hub V-ULTIMATE (STANDALONE)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://embed.twitch.tv/embed/v1.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;500;700;900&family=Orbitron:wght@600;900&display=swap" rel="stylesheet">

    <style>
        :root {
            --bg-deep: #050505;
            --glass: rgba(30, 30, 35, 0.7);
            --glass-border: 1px solid rgba(255, 255, 255, 0.08);
            --neon-blue: #00f3ff; --neon-pink: #ff0055; --neon-gold: #ffd700;
            --text-main: #fff; --text-muted: #9ca3af;
        }
        body { background: var(--bg-deep); color: var(--text-main); font-family: 'Outfit', sans-serif; overflow: hidden; height: 100vh; background-image: radial-gradient(circle at 15% 50%, rgba(0, 243, 255, 0.05), transparent 25%), radial-gradient(circle at 85% 30%, rgba(255, 0, 85, 0.05), transparent 25%); }
        
        /* --- GLOSSY UI --- */
        .glass-panel { background: var(--glass); backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px); border: var(--glass-border); border-radius: 20px; box-shadow: 0 20px 50px rgba(0,0,0,0.5); }
        .glass-btn { background: rgba(255,255,255,0.05); border: var(--glass-border); color: var(--text-muted); padding: 10px 20px; border-radius: 12px; transition: 0.3s; cursor: pointer; font-weight: 600; font-size: 13px; display: flex; align-items: center; gap: 8px; }
        .glass-btn:hover, .glass-btn.active { background: rgba(255,255,255,0.1); color: #fff; border-color: var(--neon-blue); box-shadow: 0 0 15px rgba(0, 243, 255, 0.2); }
        
        /* --- LAYOUT --- */
        #app { display: grid; grid-template-rows: auto 1fr; height: 100vh; padding: 20px; gap: 20px; max-width: 1800px; margin: 0 auto; }
        header { display: flex; justify-content: space-between; align-items: center; padding: 0 10px; }
        h1 { font-family: 'Orbitron'; font-size: 28px; letter-spacing: 2px; background: linear-gradient(90deg, #fff, var(--neon-blue)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; filter: drop-shadow(0 0 10px rgba(0,243,255,0.3)); }
        
        /* --- MAIN CONTENT (SPLIT) --- */
        .main-stage { display: grid; grid-template-columns: 1fr 400px; gap: 20px; height: 100%; overflow: hidden; }
        
        /* PLAYER */
        .video-container { position: relative; border-radius: 16px; overflow: hidden; border: var(--glass-border); background: #000; }
        #twitch-embed { width: 100%; height: 100%; }
        
        /* SIDEBAR (CHAT & TOOLS) */
        .sidebar { display: flex; flex-direction: column; gap: 20px; height: 100%; }
        
        /* CHAT WIDGET */
        .chat-widget { flex-grow: 1; display: flex; flex-direction: column; overflow: hidden; position: relative; }
        .chat-header { padding: 15px; border-bottom: var(--glass-border); display: flex; justify-content: space-between; align-items: center; background: rgba(0,0,0,0.2); }
        .chat-messages { flex-grow: 1; overflow-y: auto; padding: 15px; display: flex; flex-direction: column; gap: 10px; scrollbar-width: thin; scrollbar-color: #333 transparent; }
        .chat-input-box { padding: 15px; border-top: var(--glass-border); background: rgba(0,0,0,0.2); }
        
        .msg { font-size: 13px; padding: 8px 12px; border-radius: 8px; background: rgba(255,255,255,0.03); border-left: 2px solid transparent; animation: slideIn 0.3s ease; }
        .msg.me { border-left-color: var(--neon-green); background: linear-gradient(90deg, rgba(0,255,157,0.05), transparent); text-align: right; }
        .msg.sys { border-left-color: var(--neon-pink); color: #ff9cb6; font-size: 11px; text-transform: uppercase; letter-spacing: 1px; }
        .msg strong { color: #fff; font-weight: 700; margin-right: 5px; }
        
        /* INPUT */
        .cyber-input { width: 100%; background: #0a0a0a; border: 1px solid #333; padding: 10px 15px; border-radius: 8px; color: #fff; outline: none; transition: 0.3s; font-family: 'Outfit'; }
        .cyber-input:focus { border-color: var(--neon-blue); box-shadow: 0 0 10px rgba(0,243,255,0.1); }
        
        /* STATS BAR */
        .stats-bar { display: grid; grid-template-columns: repeat(4, 1fr); gap: 15px; }
        .stat-card { background: rgba(255,255,255,0.02); border: var(--glass-border); padding: 15px; border-radius: 12px; text-align: center; position: relative; overflow: hidden; }
        .stat-val { font-family: 'Orbitron'; font-size: 24px; font-weight: 900; color: #fff; }
        .stat-label { font-size: 10px; color: #666; text-transform: uppercase; margin-top: 5px; letter-spacing: 1px; }
        
        /* XP BAR */
        .xp-container { position: absolute; bottom: 0; left: 0; width: 100%; height: 3px; background: #333; }
        .xp-bar { height: 100%; background: var(--neon-green); width: 45%; box-shadow: 0 0 10px var(--neon-green); transition: width 0.5s; }

        @keyframes slideIn { from { opacity:0; transform: translateY(10px); } to { opacity:1; transform: translateY(0); } }
        
        /* HIDDEN ELEMENTS FOR JS LOGIC */
        .hidden { display: none; }
    </style>
</head>
<body>

<div id="app">
    <header>
        <div class="flex items-center gap-4">
            <h1>STREAMER <span style="color:var(--neon-blue)">HUB</span></h1>
            <span class="text-xs bg-blue-900 text-blue-200 px-2 py-1 rounded border border-blue-500">V47 STANDALONE</span>
        </div>
        
        <div class="flex items-center gap-4 glass-panel px-4 py-2" id="profile-card">
            <div class="text-right">
                <div id="user-name" class="font-bold text-sm text-white">Invit√©</div>
                <div class="text-xs text-gray-400">Niveau <span id="lvl-val" class="text-yellow-400">1</span></div>
            </div>
            <img id="user-avatar" src="https://static-cdn.jtvnw.net/user-default-pictures-uv/cdd517fe-def4-11e9-948e-784f43822e80-profile_image-70x70.png" class="w-10 h-10 rounded-full border-2 border-gray-600">
            <button onclick="simulateLogin()" class="glass-btn" style="padding: 5px 10px; font-size: 10px;">LOGIN</button>
        </div>
    </header>

    <div class="main-stage">
        
        <div class="flex flex-col gap-5">
            <div class="flex gap-3">
                <button class="glass-btn active" onclick="switchView('stream')"><i class="fas fa-play"></i> LIVE</button>
                <button class="glass-btn" onclick="switchView('stats')"><i class="fas fa-chart-line"></i> STATS</button>
                <button class="glass-btn" onclick="switchView('ai')"><i class="fas fa-brain"></i> IA COACH</button>
                
                <form onsubmit="event.preventDefault(); loadChannel()" class="ml-auto flex gap-2">
                    <input id="chan-input" type="text" placeholder="Chaine..." class="cyber-input" style="width: 150px; padding: 5px 10px;">
                    <button type="submit" class="glass-btn"><i class="fas fa-search"></i></button>
                </form>
            </div>

            <div id="view-stream" class="video-container flex-grow relative group">
                <div id="twitch-embed"></div>
                <div id="boost-overlay" class="absolute inset-0 bg-black/80 flex items-center justify-center hidden z-50">
                    <div class="text-center">
                        <i class="fas fa-rocket text-6xl text-pink-500 animate-bounce mb-4"></i>
                        <h2 class="text-2xl font-bold orbitron">BOOST ACTIF</h2>
                        <p class="text-gray-400">Injection de trafic simul√©e...</p>
                    </div>
                </div>
            </div>

            <div id="view-stats" class="video-container flex-grow p-6 hidden glass-panel">
                <div class="grid grid-cols-2 gap-6 h-full">
                    <div class="bg-black/40 p-4 rounded-xl border border-white/5"><canvas id="chart1"></canvas></div>
                    <div class="bg-black/40 p-4 rounded-xl border border-white/5"><canvas id="chart2"></canvas></div>
                </div>
            </div>

            <div class="stats-bar">
                <div class="stat-card"><div class="stat-val text-blue-400">1.2K</div><div class="stat-label">Viewers</div></div>
                <div class="stat-card"><div class="stat-val text-green-400">+12%</div><div class="stat-label">Growth</div></div>
                <div class="stat-card"><div class="stat-val text-pink-400">450</div><div class="stat-label">Msg/Min</div></div>
                <div class="stat-card" onclick="activateBoost()" style="cursor:pointer; border-color:var(--neon-pink);">
                    <div class="stat-val text-white"><i class="fas fa-bolt"></i></div>
                    <div class="stat-label text-pink-500">BOOST</div>
                    <div class="xp-container"><div class="xp-bar" style="width:0%"></div></div>
                </div>
            </div>
        </div>

        <div class="sidebar">
            <div class="chat-widget glass-panel">
                <div class="chat-header">
                    <span class="font-bold text-sm"><i class="fas fa-comments text-blue-400 mr-2"></i> HUB CHAT</span>
                    <span class="text-xs text-green-400 animate-pulse">‚óè ONLINE</span>
                </div>
                
                <div id="chat-box" class="chat-messages">
                    <div class="msg sys">Bienvenue sur le Hub. Syst√®me pr√™t.</div>
                </div>

                <div class="chat-input-area">
                    <form onsubmit="event.preventDefault(); sendMsg()">
                        <input id="msg-input" type="text" class="cyber-input" placeholder="Ecrire un message..." autocomplete="off">
                    </form>
                    <div class="flex gap-2 mt-2 justify-center">
                        <span class="cursor-pointer hover:scale-125 transition" onclick="addEmoji('üî•')">üî•</span>
                        <span class="cursor-pointer hover:scale-125 transition" onclick="addEmoji('üíú')">üíú</span>
                        <span class="cursor-pointer hover:scale-125 transition" onclick="addEmoji('üòÇ')">üòÇ</span>
                        <span class="cursor-pointer hover:scale-125 transition" onclick="addEmoji('üòé')">üòé</span>
                    </div>
                </div>
            </div>

            <div class="glass-panel p-4 h-1/3 flex flex-col">
                <h3 class="text-xs font-bold text-gray-500 mb-2">IA SCANNER</h3>
                <div class="flex-grow bg-black/30 rounded border border-white/5 p-2 overflow-y-auto text-xs text-gray-300 font-mono" id="ai-log">
                    > En attente d'analyse...<br>
                </div>
            </div>
        </div>

    </div>
</div>

<script>
    // --- STATE ---
    let user = { name: "Invit√©", lvl: 1, xp: 0 };
    let currentChannel = "kamet0";
    
    // --- INIT ---
    window.onload = () => {
        loadChannel();
        startFakeChat();
        initCharts();
    };

    // --- LOGIQUE VISUELLE ---
    function switchView(view) {
        document.querySelectorAll('.glass-btn').forEach(b => b.classList.remove('active'));
        event.currentTarget.classList.add('active');
        
        document.getElementById('view-stream').classList.add('hidden');
        document.getElementById('view-stats').classList.add('hidden');
        
        if(view === 'stream') document.getElementById('view-stream').classList.remove('hidden');
        if(view === 'stats') document.getElementById('view-stats').classList.remove('hidden');
        
        if(view === 'ai') logAI("Analyse IA lanc√©e sur le flux vid√©o...");
    }

    function loadChannel() {
        const chan = document.getElementById('chan-input').value || currentChannel;
        document.getElementById('twitch-embed').innerHTML = '';
        new Twitch.Embed("twitch-embed", {
            width: "100%", height: "100%", layout: "video", channel: chan, parent: ["localhost", "127.0.0.1", "justplayer.fr", window.location.hostname].filter(Boolean)
        });
        logAI(`Cible verrouill√©e: ${chan}`);
    }

    // --- SIMULATION CHAT (Pas besoin de Firebase pour la d√©mo) ---
    function sendMsg() {
        const input = document.getElementById('msg-input');
        const text = input.value;
        if(!text) return;
        
        addMsgUI(user.name, text, true);
        input.value = '';
        
        // XP System
        user.xp += 10;
        if(user.xp > 100) { user.lvl++; user.xp = 0; logAI(`Niveau UP ! Vous √™tes niveau ${user.lvl}`); }
        updateProfile();
    }

    function addMsgUI(name, text, isMe) {
        const box = document.getElementById('chat-box');
        const div = document.createElement('div');
        div.className = `msg ${isMe ? 'me' : ''}`;
        div.innerHTML = `<strong>${name}:</strong> ${text}`;
        box.appendChild(div);
        box.scrollTop = box.scrollHeight;
    }

    function addEmoji(e) { document.getElementById('msg-input').value += e; document.getElementById('msg-input').focus(); }

    // Fake Chat Bot pour rendre √ßa vivant
    function startFakeChat() {
        const names = ["Viewer123", "FanBoy", "ModoBot", "Sniper99"];
        const texts = ["Mdr ce move !", "PogChamp", "C'est quoi la musique ?", "Lourd le stream"];
        
        setInterval(() => {
            if(Math.random() > 0.7) {
                const n = names[Math.floor(Math.random()*names.length)];
                const t = texts[Math.floor(Math.random()*texts.length)];
                addMsgUI(n, t, false);
            }
        }, 3000);
    }

    // --- SIMULATION AUTH ---
    function simulateLogin() {
        user.name = "UltimateUser";
        user.lvl = 42;
        document.getElementById('user-avatar').src = "https://i.pravatar.cc/150?img=12";
        updateProfile();
        addMsgUI("SYSTEM", "Connexion r√©ussie. Profil charg√©.", false);
    }

    function updateProfile() {
        document.getElementById('user-name').innerText = user.name;
        document.getElementById('lvl-val').innerText = user.lvl;
        document.querySelector('.xp-bar').style.width = user.xp + "%";
    }

    // --- TOOLS ---
    function activateBoost() {
        const overlay = document.getElementById('boost-overlay');
        overlay.classList.remove('hidden');
        logAI("Injection de trafic en cours...");
        setTimeout(() => {
            overlay.classList.add('hidden');
            logAI("Boost termin√©. +15% de visibilit√©.");
        }, 3000);
    }

    function logAI(txt) {
        const log = document.getElementById('ai-log');
        log.innerHTML += `> ${txt}<br>`;
        log.scrollTop = log.scrollHeight;
    }

    // --- CHARTS ---
    function initCharts() {
        new Chart(document.getElementById('chart1'), {
            type: 'line',
            data: { labels: ['10h','11h','12h','13h'], datasets: [{ label: 'Viewers', data: [100, 250, 200, 450], borderColor: '#00f3ff', tension: 0.4 }] },
            options: { plugins:{legend:{display:false}}, scales:{x:{display:false}, y:{display:false}} }
        });
        new Chart(document.getElementById('chart2'), {
            type: 'bar',
            data: { labels: ['A','B','C','D'], datasets: [{ label: 'Subs', data: [10, 25, 20, 45], backgroundColor: '#ff0055' }] },
            options: { plugins:{legend:{display:false}}, scales:{x:{display:false}, y:{display:false}} }
        });
    }
</script>
</body>
</html>
